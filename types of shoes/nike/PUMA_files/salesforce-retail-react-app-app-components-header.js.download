"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9481],{10510:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Xe});var r=n(27188),a=n(53828),o=(n(34043),n(54513)),c=n(19836),s=n.n(c),l=n(15762),i=n(30916),u=n(42047),d=n(73352),p=n(36287),m=n(64194),g=n(45915),h=n(34116),v=n(21622),f=n(47021),y=n(60663),E=n(55912),b=n(34441),_=n(14893),A=n(30763),O=n(75011),S=n(38244),M=n(28387),C=n(73295),k=n(40133),I=n(75712),w=n(86400),P=n(72030),T=n(90362),j=n(82951),L=n(19439),D=n(38993),R=n(83322),z=n(17847),x=n(99121);const N=({suggestions:e,section:t,closeAndNavigate:n,variant:o})=>{const c=(0,d.o5)("Suggestions",{variant:o});if(!e)return null;const s=(e,r)=>{0===r.button&&(r.preventDefault(),n(e.link),(0,z.w3)("suggestions:click",{suggestion:e,section:t}))};return a.createElement(w.B,(0,r.A)({},c.wrapperStack,{"data-testid":"sf-suggestion"}),e.slice(0,D.ze).map(((e,t)=>"product"===e.type?a.createElement(_.$,(0,r.A)({onMouseDown:t=>s(e,t),onKeyUp:(0,L.T3)((()=>n(e.link))),key:t,variant:"menu-link",as:f.A,to:e.link,"aria-label":(0,L.VE)(e.name),rightIcon:a.createElement(T.ChevronRightIcon,c.chevronRightIcon)},c.productButton),a.createElement(P._,(0,r.A)({src:e.image||(0,x.sU)(D.rL.MEDIUM),alt:e.name},c.productImage)),a.createElement(p.az,c.productNameWrapper,a.createElement(k.E,(0,r.A)({dangerouslySetInnerHTML:{__html:e.name}},c.suggestionLabel,c.productName)),a.createElement(k.E,(0,r.A)({dangerouslySetInnerHTML:{__html:e.brand}},c.suggestionLabel,c.productBrand)),!e.isProductSet&&!e.isProductSet&&e.listPrice&&e.currency&&a.createElement(j.A,{labelForA11y:null==e?void 0:e.name,currency:e.currency,priceData:(0,R.IZ)(e),variant:"suggestion"}))):a.createElement(_.$,(0,r.A)({onMouseDown:t=>s(e,t),onKeyUp:(0,L.T3)((()=>n(e.link))),as:f.A,to:e.link,key:t,"aria-label":(0,L.VE)(e.name),rightIcon:a.createElement(T.ChevronRightIcon,c.chevronRightIcon)},c.categoryButton),a.createElement(g.s,null,a.createElement(T.SearchIcon,c.searchIcon),a.createElement(k.E,(0,r.A)({dangerouslySetInnerHTML:{__html:e.name}},c.suggestionLabel)))))))};N.propTypes={suggestions:s().array,section:s().string,closeAndNavigate:s().func,variant:s().string};const B=N;var H=n(33433),U=n(38340),F=n(58493),V=n(34642);const W=({closeAndNavigate:e,popularTerms:t})=>{const n=(0,d.o5)("Search"),o=(0,l.A)().formatMessage({defaultMessage:[{type:0,value:"Trending searches"}],id:"search.popularSearch.trending"});return a.createElement(a.Fragment,null,(null==t?void 0:t.length)>0&&a.createElement(w.B,(0,r.A)({},n.popularTermsContainer,{"data-testid":"sf-popular-terms"}),a.createElement(U.D,n.popularTermsTitle,o),a.createElement(p.az,(0,r.A)({},n.popularTerms,{"data-testid":"sf-popular-terms"}),t.map((t=>a.createElement(_.$,(0,r.A)({key:t,as:F.N},n.popularTermButton,{onClick:()=>{e((0,V.p4)(t)),(0,z.w3)("popular-terms:click",{term:t,section:o})}}),a.createElement(k.E,n.popularTermButtonText,t)))))))};W.propTypes={closeAndNavigate:s().func,popularTerms:s().array};const K=W;var G=n(13635);const Q=({recommender:e,recommenderTitle:t,closeAndNavigate:n,section:r})=>{const{isLoading:o,recommendations:c,getRecommendations:s}=(0,G.A)();(0,a.useEffect)((()=>{e&&s(e)}),[e]);const l=(0,a.useMemo)((()=>(e=>{var t;return null==e||null===(t=e.recs)||void 0===t?void 0:t.map((e=>({type:"product",currency:null==e?void 0:e.currency,listPrice:(null==e?void 0:e.c_listPrice)||(null==e?void 0:e.price),salePrice:(null==e?void 0:e.c_salePrice)||(null==e?void 0:e.price),productId:null==e?void 0:e.productId,name:(0,L.LO)((null==e?void 0:e.name)||(null==e?void 0:e.productName),""),link:(0,V.ec)(e),image:(null==e?void 0:e.image)&&(null==e?void 0:e.image.disBaseLink),brand:null==e?void 0:e.c_brand,isProductSet:null==e?void 0:e.c_isProductSet})))})(c)),[c]);return a.createElement(a.Fragment,null,!o&&(null==l?void 0:l.length)>0&&a.createElement(a.Fragment,null,t,a.createElement(B,{variant:"productSuggestionsGrid",closeAndNavigate:n,suggestions:l,section:r})))};Q.propTypes={recommender:s().string,recommenderTitle:s().object,closeAndNavigate:s().func,section:s().string};const Y=Q;var $=n(6803),q=n(97936),Z=n(75460),X=n(6537);const J=["data"];function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const te=({searchSuggestions:e,isLoadingSuggestions:t,closeAndNavigate:n,searchQuery:r})=>{var c,s,i,u;const m=(0,d.o5)("SearchSuggestions"),{popularTerms:h,isLoading:v}=(()=>{const{locale:e,site:t}=(0,X.A)(),n=(0,q.V)({apiName:"popular-search-terms",endpoint:"popular-search-terms",parameters:{locale:e.id,siteId:t.id},queryOptions:{enabled:(0,Z.onClient)()}}),{data:r}=n;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){(0,E.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({popularTerms:r},(0,o.A)(n,J))})(),f=(0,l.A)(),y=(null==r?void 0:r.length)>=D.zn&&((null==e||null===(c=e.suggestedPhrases)||void 0===c?void 0:c.length)>0||(null==e||null===(s=e.productSuggestions)||void 0===s?void 0:s.length)>0),b=(null==r?void 0:r.length)<D.zn?D.tD.SEARCH_FLYOUT_RECENTLY_VIEWED:D.tD.SEARCH_FLYOUT_EMPTY_SEARCH_RESULTS_MOST_VIEWED,_=(null==r?void 0:r.length)<D.zn?f.formatMessage({defaultMessage:[{type:0,value:"Recently View"}],id:"search.suggestions.einsteinRecentlyViewProducts"}):f.formatMessage({defaultMessage:[{type:0,value:"Suggested Products"}],id:"search.suggestions.einsteinSuggestedProducts"}),A=a.createElement(a.Fragment,null,a.createElement(k.E,m.label,_));return a.createElement(a.Fragment,null,r.length<D.zn&&v||r.length>=D.zn&&t?a.createElement(p.az,{m:"auto"},a.createElement($.A,{wrapperStyles:{position:"relative",top:9}})):a.createElement(p.az,m.searchWrapperElementsContainerModal,!y&&r.length>=D.zn&&a.createElement(a.Fragment,null,a.createElement(g.s,m.noResultsElementsContainer,a.createElement(T.AlertExclamation,m.alertExclamation),a.createElement(k.E,m.noSuggestionsLabel,a.createElement(H.A,{defaultMessage:[{type:0,value:"Hit enter to find matches"}],id:"search.suggestions.no.results"}))),a.createElement(I.c,{my:5,borderColor:"neutral.20"})),a.createElement(g.s,m.searchElementsContainerModal,!y&&a.createElement(a.Fragment,null,a.createElement(K,{closeAndNavigate:n,popularTerms:h}),a.createElement(p.az,m.productWrapper,a.createElement(Y,{recommenderTitle:A,recommender:b,closeAndNavigate:n,section:_}))),(null==r?void 0:r.length)>=D.zn&&(null==e||null===(i=e.suggestedPhrases)||void 0===i?void 0:i.length)>0&&a.createElement(a.Fragment,null,a.createElement(p.az,m.categoryWrapper,a.createElement(k.E,m.label,a.createElement(H.A,{defaultMessage:[{type:0,value:"Suggestions"}],id:"search.suggestions.categories"})),a.createElement(B,{closeAndNavigate:n,suggestions:null==e?void 0:e.suggestedPhrases,section:f.formatMessage({defaultMessage:[{type:0,value:"Suggestions"}],id:"search.suggestions.categories"})}))),(null==r?void 0:r.length)>=D.zn&&(null==e||null===(u=e.productSuggestions)||void 0===u?void 0:u.length)>0&&a.createElement(p.az,m.productWrapper,a.createElement(k.E,m.label,a.createElement(H.A,{defaultMessage:[{type:0,value:"Related Products"}],id:"search.suggestions.products"})),a.createElement(B,{variant:"productSuggestionsGrid",closeAndNavigate:n,suggestions:null==e?void 0:e.productSuggestions,section:f.formatMessage({defaultMessage:[{type:0,value:"Related Products"}],id:"search.suggestions.products"})})))))};te.propTypes={searchSuggestions:s().object,isLoadingSuggestions:s().bool,closeAndNavigate:s().func,searchQuery:s().string};const ne=te;var re=n(48952),ae=n(57397),oe=n.n(ae),ce=n(30239),se=n(38549);const le=["isOpen","onOpen","onClose"];function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}const ue=e=>{var t,n,c,s;let{isOpen:l,onOpen:i,onClose:u}=e,m=(0,o.A)(e,le);const[h,v]=(0,a.useState)(""),f=(0,re.A)(),{site:I}=(0,X.A)(),{data:w,isLoading:P}=(0,b.useSearchSuggestions)({parameters:{q:h}},function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(n),!0).forEach((function(t){(0,E.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({enabled:(null==h?void 0:h.length)>=D.zn},null==I||null===(t=I.queryHooksConfig)||void 0===t?void 0:t.productSearchSuggestions)),j=(0,a.useRef)(),R=(0,a.useMemo)((()=>{var e;return((e,t)=>{var n,r,a,o;return e||t?{suggestedPhrases:null==e||null===(n=e.categorySuggestions)||void 0===n||null===(r=n.suggestedPhrases)||void 0===r?void 0:r.map((e=>({type:"category",id:e.id,link:(0,V.p4)(e.phrase),name:(0,L.LO)(e.phrase,t?(0,L.ZH)(t):"")}))),productSuggestions:null==e||null===(a=e.productSuggestions)||void 0===a||null===(o=a.products)||void 0===o?void 0:o.filter((e=>!!e.productName)).map((e=>{var n,r;return{type:"product",currency:e.currency,listPrice:e.c_listPrice||e.price,salePrice:e.c_salePrice||e.price,productId:e.productId,name:(0,L.LO)(e.productName,t?(0,L.ZH)(t):""),link:(0,V.ec)(e),image:e.c_image&&(null===(n=Object.values(e.c_image))||void 0===n||null===(r=n[0][0])||void 0===r?void 0:r.absURL),brand:e.c_brand,isProductSet:e.c_isProductSet}}))}:{}})(w,null==j||null===(e=j.current)||void 0===e?void 0:e.value)}),[w]),x=null==R||null===(n=R.categorySuggestions)||void 0===n?void 0:n.length,N=null==R||null===(c=R.productSuggestions)||void 0===c?void 0:c.length,[B,U]=(0,a.useState)(!1),F=(0,d.o5)("Search"),W=oe()((e=>{W.cancel(),v(e),(0,z.w3)("search:input-change",{input:e})}),300),K=function(){var e=(0,y.A)((function*(e){const t=e.target.value;t.length>=D.zn?W(t):(v(""),(0,z.w3)("search:input-change",{input:t})),U(t.length>0)}));return function(t){return e.apply(this,arguments)}}(),G=()=>{var e;j.current&&(j.current.value=""),null==j||null===(e=j.current)||void 0===e||e.focus(),U(!1)},Q=e=>{e.preventDefault();let t=j.current.value.trim();t.length<1||(Y((0,V.p4)(t)),(0,z.w3)("search:submit",{input:t}))},Y=e=>{G(),u(),"string"==typeof e&&f(e),(0,z.w3)("search:close")};return(0,a.useEffect)((()=>{l||G()}),[l]),a.createElement(a.Fragment,null,a.createElement(p.az,(0,r.A)({},F.box,m),a.createElement(_.$,(0,r.A)({id:"search-input",variant:"filled",onClick:i,leftIcon:a.createElement(T.SearchIcon,F.searchIcon),"data-testid":"sf-search-suggestions-button"},F.searchButton,{"aria-label":"search"}),a.createElement(H.A,{defaultMessage:[{type:0,value:"Search"}],id:"header.field.placeholder.search_for_products"}))),a.createElement(A.aF,(0,r.A)({size:"full",isOpen:l,onClose:u,onOpen:i},F.modal),a.createElement(O.m,null),a.createElement(S.$,F.modalContent,a.createElement(M.c,F.modalBody,a.createElement(a.Fragment,null,a.createElement(p.az,F.searchInputMainContainerModal,a.createElement(g.s,F.searchInputContainerModal,a.createElement(ce.cD,null,a.createElement(T.ChevronLeftIcon,{onClick:()=>{Y()}})),a.createElement(se.A,{ref:j,onSubmitSearch:Q,onSearchChange:K,clearInput:G,showClearButton:B}),a.createElement(ce.qX,null,a.createElement(C.s,F.modalCloseButton)))),a.createElement(ne,{"data-testid":"sf-search-suggestions",searchSuggestions:R,isLoadingSuggestions:P,closeAndNavigate:Y,searchQuery:(null==j||null===(s=j.current)||void 0===s?void 0:s.value)||""}),x>0&&N>0&&a.createElement(_.$,(0,r.A)({onClick:Q},F.showAllButton),a.createElement(k.E,{textStyle:"text.sm",as:"span"},a.createElement(H.A,{defaultMessage:[{type:0,value:"Show all"}],id:"search.suggestions.show.all"})),a.createElement(T.ChevronRightIcon,F.chevronRightIcon)))))))};ue.propTypes={isOpen:s().bool,onOpen:s().func,onClose:s().func},ue.displayName="SearchInput";const de=ue;var pe=n(10789);function me(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?me(Object(n),!0).forEach((function(t){(0,E.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):me(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const he=()=>{const{sendGA4CustomEvent:e}=(0,pe.vb)(),[t,n]=(0,a.useState)();(0,z.VI)("search:open",function(){var t=(0,y.A)((function*({detail:t}){const{searchType:n}=t,r={event:pe.B1.GA4EC_CUSTOM,event_name:"search_open",event_params:{search_type:n}};e(r)}));return function(e){return t.apply(this,arguments)}}()),(0,z.VI)("search:input-change",function(){var e=(0,y.A)((function*({detail:e}){const{input:t}=e;n((e=>ge(ge({},e),{},{search_term:t})))}));return function(t){return e.apply(this,arguments)}}()),(0,z.VI)("search:submit",function(){var e=(0,y.A)((function*({detail:e}){const{input:t}=e;n((e=>ge(ge({},e),{},{search_type:"regular search",suggested_section_click:"enter/search button",suggested_element_click:void 0,search_term:t})))}));return function(t){return e.apply(this,arguments)}}()),(0,z.VI)("suggestions:click",function(){var e=(0,y.A)((function*({detail:e}){const{suggestion:r,section:a}=e;var o={search_term:(null==t?void 0:t.search_term)||void 0,search_type:"regular search",suggested_section_click:a,suggested_element_click:(0,L.VE)(r.name),user_action:"noredirect"};"product"===(null==r?void 0:r.type)&&(o.results_number=void 0),n((e=>ge(ge({},e),o)))}));return function(t){return e.apply(this,arguments)}}(),[t]),(0,z.VI)("plp:load",function(){var e=(0,y.A)((function*({detail:e}){if(!e.isSearch)return;const{productSearchResult:r}=e,a={user_action:null!=r&&r.searchPhraseSuggestions.c_searchRedirect?"redirect":"noredirect"};t&&"search_term"in t&&(a.results_number=((null==r?void 0:r.total)||0).toString()),n((e=>ge(ge({},e),a)))}));return function(t){return e.apply(this,arguments)}}(),[t]),(0,z.VI)("popular-terms:click",function(){var e=(0,y.A)((function*({detail:e}){const{term:t,section:r}=e;n((e=>ge(ge({},e),{},{search_term:void 0,search_type:"regular search",results_number:void 0,suggested_section_click:r,suggested_element_click:t})))}));return function(t){return e.apply(this,arguments)}}()),(0,z.VI)("empty-results:submit",function(){var e=(0,y.A)((function*({detail:e}){const{input:t}=e;n((e=>ge(ge({},e),{},{search_type:"no results search bar",search_term:t,results_number:void 0,suggested_section_click:"enter/search button",suggested_element_click:void 0})))}));return function(t){return e.apply(this,arguments)}}()),(0,a.useEffect)((()=>{const r=t&&["search_type","search_term","results_number","suggested_section_click","suggested_element_click","user_action"].every((e=>Object.prototype.hasOwnProperty.call(t,e)));if(t&&r){const r={event:pe.B1.GA4EC_CUSTOM,event_name:"search",event_params:t};e(r),n(null)}}),[t])},ve=e=>(he(),a.createElement(de,e));var fe=n(58081),ye=n(75721),Ee=n(43285);const be=["icon","text","badge"];function _e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_e(Object(n),!0).forEach((function(t){(0,E.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Oe=(0,a.forwardRef)(((e,t)=>{let{icon:n,text:c,badge:s}=e,l=(0,o.A)(e,be);const i=(0,d.o5)("HeaderIcon"),u=a.cloneElement(n,Ae(Ae({},i.icon),n.props));return a.createElement(g.s,(0,r.A)({as:"button"},i.container,{"aria-label":c},l,{ref:t}),u,(s||0===s)&&a.createElement(Ee.E,(0,r.A)({variant:"notification"},i.badge,{"data-testid":"header-icon-badge"}),s),c&&a.createElement(k.E,(0,r.A)({as:"span"},i.text),c))}));Oe.propTypes={icon:s().element.isRequired,text:s().string,badge:s().oneOfType([s().string,s().number,s().bool])};var Se=n(66170);const Me=["icon","text","badge"],Ce=(0,a.forwardRef)(((e,t)=>{let{icon:n,text:c,badge:s}=e,l=(0,o.A)(e,Me);const i=(0,d.o5)("HeaderIcon");return a.createElement(Oe,(0,r.A)({as:"div",icon:a.createElement(Se.K,(0,r.A)({icon:n,"aria-label":c},i.icon)),text:c,badge:s},l,{ref:t}))}));Ce.propTypes={icon:s().element.isRequired,text:s().string,badge:s().oneOfType([s().string,s().number,s().bool])};var ke=n(37716),Ie=n(30643);const we=()=>{var e,t,n;const{site:r}=(0,X.A)(),{data:o,isLoading:c}=(0,ke.A)(null==r||null===(e=r.pageDesigner)||void 0===e||null===(t=e.pages)||void 0===t||null===(n=t.headerBanner)||void 0===n?void 0:n.id),s=!c&&o;return a.createElement(a.Fragment,null,s&&a.createElement(Ie.A,{page:o}))};var Pe=n(11778),Te=n(42739);function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Le(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach((function(t){(0,E.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const De=()=>{var e,t,n,r,o;const c=(0,a.useRef)(),s=(0,Pe.A)(c,{useOnce:!0}),{sendGA4ECommerceEvent:l}=(0,pe.vb)(),{productId:i}=(0,Te.useParams)(),u=(0,Te.useLocation)(),{site:d}=(0,X.A)(),m=new URLSearchParams(u.search),g=!("pdp"!==(0,pe.M5)(u.pathname)),{data:h,isFetching:v}=(0,b.useProduct)({parameters:Le({id:m.get("pid")||i,perPricebook:!0,allImages:!0},null==d||null===(e=d.productDetailPage)||void 0===e?void 0:e.detailParams)},Le({enabled:g},null==d||null===(t=d.queryHooksConfig)||void 0===t?void 0:t.productDetail)),{data:f,isFetching:y}=(0,ke.A)(null==d||null===(n=d.pageDesigner)||void 0===n||null===(r=n.pages)||void 0===r||null===(o=r.headerBanner)||void 0===o?void 0:o.id),E=(null==f?void 0:f.promotionId)||D.HM,_=(null==f?void 0:f.promotionName)||D.Xl,[A,O]=(0,a.useState)(),[S,M]=(0,a.useState)();return(0,z.VI)("generic-gtm-event:triggered",(()=>{O(!0)})),(0,a.useEffect)((()=>{setTimeout((()=>{if(!(S&&A&&E&&_))return;const e={event:pe.B1.GA4EC_PROMOTION_VIEW,event_name:"view_promotion",ecommerce:{creative_name:void 0,creative_slot:void 0,promotion_id:E,promotion_name:_,item_id_ep:null==h?void 0:h.id,item_name_ep_p:null==h?void 0:h.name,items:[]}};l(e),O(!1),M(!1)}),300)}),[A,S]),(0,a.useEffect)((()=>{!s||v||y||M(!0)}),[s,h,v,y,u.pathname,u.search]),a.createElement(p.az,{ref:c,onClick:e=>{if(!(e.target instanceof HTMLAnchorElement||e.target instanceof HTMLButtonElement))return;const t={event:pe.B1.GA4EC_PROMOTION_SELECT,event_name:"select_promotion",ecommerce:{creative_name:void 0,creative_slot:void 0,promotion_id:E,promotion_name:_,item_id_ep:null==h?void 0:h.id,item_name_ep_p:null==h?void 0:h.name,link_url:e.target.href,link_page_type:(0,pe.M5)(u.pathname),cta_click:e.target.text,items:[]}};l(t)}},a.createElement(we,null))};var Re=n(98664),ze=n(10629),xe=n(26171),Ne=n(95195),Be=n(66974),He=n(38797),Ue=n(36166),Fe=n(85074),Ve=n(61569),We=n(83158);const Ke=({setShowLoading:e=L.lQ,onMyAccountClick:t=L.lQ,isMenuOpen:n})=>{const o=(0,a.useRef)(),{data:c}=(0,Fe.J)(),s=(0,b.useAuthHelper)(b.AuthHelpers.Logout),p=(0,re.A)(),{isOpen:m,onClose:g,onOpen:h}=(0,i.j)(),[v]=(0,u.U)("(min-width: 992px)"),E=(0,d.o5)("Header",{invert:!v&&n}),A=(0,l.A)(),O=function(){var t=(0,y.A)((function*(){e(!0);const t=yield s.mutateAsync();(0,z.w3)("user:logout",{customer:t}),p("/login"),e(!1)}));return function(){return t.apply(this,arguments)}}();return a.createElement(Re.A,{isLazy:!0,arrowSize:15,display:{base:"none",xl:"flex"},isOpen:v&&(null==c?void 0:c.isRegistered)&&(0,L.Gk)()&&m,placement:"bottom-end",onClose:g,onOpen:h,trigger:"hover"},a.createElement(ze.W,null,a.createElement(Ce,{"data-testid":"header-account-button",icon:a.createElement(T.AccountIcon,null),tabIndex:0,onMouseLeave:()=>{setTimeout((()=>{o.current||g()}),100)},onKeyUp:(0,L.T3)(t),onClick:t,"aria-label":A.formatMessage({id:"header.button.assistive_msg.my_account",defaultMessage:[{type:0,value:"My account"}]})})),a.createElement(xe.h,(0,r.A)({},E.popoverContent,{onMouseLeave:()=>{o.current=!1,g()},onMouseOver:()=>{o.current=!0}}),a.createElement(Ne.R,null),a.createElement(Be.D,null,a.createElement(k.E,null,A.formatMessage({defaultMessage:[{type:0,value:"My Account"}],id:"header.popover.title.my_account"}))),a.createElement(He.e,null,a.createElement(w.B,{spacing:0,as:"nav","data-testid":"account-detail-nav"},Ve.rG.map((e=>{const t=e.icon;return a.createElement(_.$,{key:e.name,as:f.A,to:`/account${e.path}`,useNavLink:!0,variant:"menu-link",leftIcon:a.createElement(t,{boxSize:5}),onClick:g},A.formatMessage(Ve.DZ[e.name]))})))),a.createElement(Ue.N,null,a.createElement(We.A,(0,r.A)({onClick:O},E.signout)))))};Ke.propTypes={setShowLoading:s().func,onMyAccountClick:s().func,isMenuOpen:s().bool};const Ge=Ke,Qe=["children","onMenuClick","onMyAccountClick","onMyCartClick","onWishlistClick","isMenuOpen"],Ye=(0,fe.A)(Ce),$e=e=>{var t;let{children:n,onMenuClick:c=L.lQ,onMyAccountClick:s=L.lQ,onMyCartClick:y=L.lQ,onWishlistClick:E=L.lQ,isMenuOpen:b}=e,_=(0,o.A)(e,Qe);const A=(0,l.A)(),{derivedData:{totalItems:O},data:S}=(0,h.X)(),{data:M={}}=(0,v.T)(),{isOpen:C,onOpen:k,onClose:I}=(0,i.j)(),[w]=(0,u.U)("(min-width: 992px)"),[P,j]=(0,a.useState)(0),[R,z]=(0,a.useState)(!1),x=(0,d.o5)("Header",{invert:!w&&b});return(0,a.useEffect)((()=>{document&&window&&(b&&window.scrollTo(0,0),document.body.style.overflowY=b?"hidden":"auto")}),[b]),a.createElement(p.az,(0,r.A)({},x.container,_),a.createElement(ye._,null),a.createElement(p.az,(0,r.A)({},x.content,{"data-testid":"header"}),R&&a.createElement($.A,{wrapperStyles:{height:"100vh"}}),!w&&a.createElement(m.z,x.rightIconsContainer,a.createElement(Ce,{icon:b?a.createElement(T.CloseIcon,{height:6}):a.createElement(T.HamburgerIcon,{height:6}),onClick:e=>{b?window.scrollTo(0,P):j(window.scrollY),c(e)},display:{base:"flex",lg:"none"},onKeyUp:(0,L.T3)(c),tabIndex:0,"aria-label":A.formatMessage({id:"header.button.assistive_msg.menu",defaultMessage:[{type:0,value:"Menu"}]})}),a.createElement(Ce,{icon:a.createElement(T.SearchIcon,null),display:{lg:"flex",xl:"none"},onClick:k,onKeyUp:(0,L.T3)(k),tabIndex:0,"aria-label":A.formatMessage({id:"header.button.assistive_msg.search",defaultMessage:[{type:0,value:"Search"}]})})),a.createElement(g.s,x.innerContent,a.createElement(p.az,x.logoContainer,a.createElement(f.A,{to:D.y3},a.createElement(T.BrandLogo,(0,r.A)({},x.logo,{alt:A.formatMessage({id:"header.button.assistive_msg.logo",defaultMessage:[{type:0,value:"Logo"}]})})))),a.createElement(p.az,(0,r.A)({},x.bodyContainer,{role:"group"}),n),a.createElement(p.az,x.searchContainer,a.createElement(ve,(0,r.A)({},x.search,{isOpen:C,onOpen:k,onClose:I}))),a.createElement(m.z,x.rightIconsContainer,w&&a.createElement(Ce,{icon:a.createElement(T.SearchIcon,null),display:{lg:"flex",xl:"none"},onClick:k,onKeyUp:(0,L.T3)(k),tabIndex:0,"aria-label":A.formatMessage({id:"header.button.assistive_msg.search",defaultMessage:[{type:0,value:"Search"}]})}),w?a.createElement(Ye,{"data-testid":"header-wishlist-button",icon:a.createElement(T.HeartIcon,null),tabIndex:0,badge:(null==M||null===(t=M.customerProductListItems)||void 0===t?void 0:t.length)>0&&M.customerProductListItems.length,onClick:E,onKeyUp:(0,L.T3)(E),"aria-label":A.formatMessage({id:"header.button.assistive_msg.wishlist",defaultMessage:[{type:0,value:"Wishlist"}]})}):a.createElement(Ce,{"data-testid":"header-account-button",icon:a.createElement(T.AccountIcon,null),tabIndex:0,onKeyUp:(0,L.T3)(s),onClick:s,"aria-label":A.formatMessage({id:"header.button.assistive_msg.my_account",defaultMessage:[{type:0,value:"My account"}]})}),a.createElement(Ce,{"data-testid":"header-cart-button",icon:a.createElement(T.BasketIcon,null),tabIndex:0,badge:S&&O>0&&O,onClick:y,onKeyUp:(0,L.T3)(y),"aria-label":A.formatMessage({id:"header.button.assistive_msg.my_cart_with_num_items",defaultMessage:[{type:0,value:"My cart, number of items: "},{type:1,value:"numItems"}]},{numItems:O??0})}),w&&a.createElement(Ge,{setShowLoading:z,onMyAccountClick:s,isMenuOpen:b})))),!b&&a.createElement(De,null))};$e.propTypes={children:s().node,onMenuClick:s().func,onMyAccountClick:s().func,onWishlistClick:s().func,onMyCartClick:s().func,searchInputRef:s().oneOfType([s().func,s().shape({current:s().elementType})]),isMenuOpen:s().bool};const qe=$e;var Ze=n(27310);const Xe=e=>a.createElement(qe,(0,r.A)({},e,{onClick:e=>{var t;const n=e.target.tagName.toLowerCase();let r;if(["a","h2","svg","use"].includes(n)){let o;switch(n){case"a":o=e.target.href;break;case"h2":o=null===(t=e.target.closest("a"))||void 0===t?void 0:t.href;break;case"svg":case"use":{const t={"header-cart-button":"cart","header-wishlist-button":"wishlist","header-account-button":"my account"}[e.target.closest("div").getAttribute("data-testid")];t&&(r="icon:"+t)}}var a;o&&(r="shop"+(0,Ze.y)(null===(a=new URL(o))||void 0===a?void 0:a.pathname)),(0,z.w3)("navigation:click",{userAction:"header",navPath:r})}}}))},38549:(e,t,n)=>{n.d(t,{A:()=>_});var r=n(27188),a=n(53828),o=n(19836),c=n.n(o),s=n(73352),l=n(36287),i=n(51803),u=n(48070),d=n(4829),p=n(14893),m=n(40133),g=n(75712),h=n(33433),v=n(90362),f=n(15762),y=n(30239),E=n(17847);const b=(0,a.forwardRef)((({onSubmitSearch:e,onSearchChange:t=()=>{},clearInput:n=()=>{},showClearButton:o,searchQuery:c,variant:b},_)=>{const A=(0,s.o5)("Search",{variant:b}),O=(0,f.A)();return(0,a.useEffect)((()=>{(0,E.w3)("search:open",{searchType:"noResults"===b?"no results search bar":"regular search"})}),[]),a.createElement(l.az,A.inputWrapperBox,a.createElement("form",{onSubmit:e},a.createElement(i.M,null,a.createElement(u.p,(0,r.A)({autoComplete:"off",id:"search-input",onChange:e=>t(e),type:"text",ref:_,variant:"default"},A.input,{"data-testid":"sf-search-suggestions-input",placeholder:O.formatMessage({defaultMessage:[{type:0,value:"Search Puma.com"}],id:"modal.field.placeholder.search_for_products"}),value:c})),a.createElement(d.t,A.inputRightElement,a.createElement(p.$,A.clearButton,o&&a.createElement(a.Fragment,null,a.createElement(y.cD,null,a.createElement(l.az,A.clearIconContainer,a.createElement(v.CloseIcon,(0,r.A)({},A.clearIcon,{onClick:()=>n()})))),a.createElement(y.qX,null,a.createElement(m.E,(0,r.A)({},A.clearText,{onClick:()=>n()}),a.createElement(h.A,{defaultMessage:[{type:0,value:"clear"}],id:"search.suggestions.clear"}))),a.createElement(g.c,(0,r.A)({orientation:"vertical"},A.divider))),a.createElement(l.az,(0,r.A)({},A.searchIconContainer,{"data-testid":"searchIconContainer"}),a.createElement(v.SearchIcon,(0,r.A)({},A.searchIcon,A.modalSearchIcon,{onClick:t=>e(t)}))))))))}));b.displayName="SearchInput",b.propTypes={onSubmitSearch:c().func,onSearchChange:c().func,clearInput:c().func,searchQuery:c().string,showClearButton:c().bool,variant:c().string};const _=b},83158:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(27188),a=n(54513),o=n(53828),c=n(19836),s=n.n(c),l=n(15762),i=n(73352),u=n(14893);const d=["onClick"],p=e=>{let{onClick:t}=e,n=(0,a.A)(e,d);const{formatMessage:c}=(0,l.A)(),s=(0,i.o5)("AccountMenu");return o.createElement(u.$,(0,r.A)({onClick:t,padding:4,py:0,variant:"link",height:11},s.buttonLogout,n),c({defaultMessage:[{type:0,value:"Log Out"}],id:"account.logout_button.button.log_out"}))};p.propTypes={onClick:s().func.isRequired};const m=p},61569:(e,t,n)=>{n.d(t,{Gz:()=>c,DZ:()=>s,rG:()=>l});var r=n(90362),a=n(73941);const o=(0,a.YK)({profile:{defaultMessage:[{type:0,value:"Account Details"}],id:"global.account.link.account_details"},addresses:{defaultMessage:[{type:0,value:"Addresses"}],id:"global.account.link.addresses"},orders:{defaultMessage:[{type:0,value:"Order History"}],id:"global.account.link.order_history"},wishlist:{defaultMessage:[{type:0,value:"Wishlist"}],id:"global.account.link.wishlist"}}),c=(r.AccountIcon,r.HeartIcon,r.ReceiptIcon,r.LocationIcon,(0,a.YK)({dialogTitle:{defaultMessage:[{type:0,value:"Confirm Action"}],id:"confirmation_modal.default.title.confirm_action"},confirmationMessage:{defaultMessage:[{type:0,value:"Are you sure you want to continue?"}],id:"confirmation_modal.default.message.you_want_to_continue"},primaryActionLabel:{defaultMessage:[{type:0,value:"Yes"}],id:"confirmation_modal.default.action.yes"},primaryActionAriaLabel:{defaultMessage:[{type:0,value:"Yes, confirm action"}],id:"confirmation_modal.default.assistive_msg.yes"},alternateActionLabel:{defaultMessage:[{type:0,value:"No"}],id:"confirmation_modal.default.action.no"},alternateActionAriaLabel:{defaultMessage:[{type:0,value:"No, cancel action"}],id:"confirmation_modal.default.assistive_msg.no"}}));o.preferences=(0,a.zR)({defaultMessage:[{type:0,value:"Preferences"}],id:"global.account.link.preferences"});const s=o,l=[{name:"profile",path:"",icon:r.AccountIcon},{name:"preferences",path:"/preferences",icon:r.FilterIcon},{name:"wishlist",path:"/wishlist",icon:r.HeartIcon},{name:"orders",path:"/orders",icon:r.BoxIcon},{name:"addresses",path:"/addresses",icon:r.AddressBookIcon}]}}]);